$(function(){
  $(document).on("turbolinks:load", function() {
    let item = "",
      items = "",
      split = [];
    // Product.nameで商品名称を取得
    item = "#{{@items.name}}";
    // Cookieからproduct_namesに関するデータを取得します。
    items = Cookies.get("item_names");
    // undefinedでなければデータがproduct_nameに入っている。
    if (items != undefined) {
      items = items + "," + item;
      split = items.split(",");
      // 重複を除去します。
      dup = split.filter(function(a, c, b) {
        return b.indexOf(a) === c;
      });
      Cookies.set("item_names", dup.join(","));
    } else {
      Cookies.set("item_names", item);
    }
  });
})

